{% extends 'core/base.html' %}
{% block content %}
    <div class="pt-20">
        <h2 class=" text-3xl flex items-center justify-center font-bold mb-5">Featured Products</h2>
        {% with products as list_products %}
            {% include 'parts/products_list.html' %}
        {% endwith %}
        <hr class="my-5 w-full bg-gray-700 rounded"/>
        <div class="pt-5">
            {% for category in featured_categories %}
                <h2 class="flex items-center justify-center my-5 text-2xl font-semibold">{{ category.title }}</h2>
            
                {% with category.products.all|slice:":4" as list_products %}
                    {% include 'parts/products_list.html' %}
                {% endwith %} 
              {% endfor %}

        <hr class="my-5 w-full bg-gray-700 rounded"/>

        <h2 class="flex text-3xl items-center justify-center my-10 font-bold">Popular Products</h2>
        {% with popular_products as list_products %}
            {% include 'parts/products_list.html' %}
        {% endwith %}

        <hr class="my-5 w-full bg-gray-700 rounded"/>

        <h2 class="text-3xl flex items-center justify-center my-10 font-bold">Recently Viewed Products</h2>

        {% with recently_viewed_products as list_products %}
            {% include 'parts/products_list.html' %}
        {% endwith %} 
    </div>
{% endblock content %}